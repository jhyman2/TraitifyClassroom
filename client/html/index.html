<html>
  <head>
    <link rel="stylesheet" type="text/css" href="../css/form.css" />
    <link rel="stylesheet" type="text/css" href="../css/bootstrap/css/bootstrap.min.css" />
    <script src="https://cdn.traitify.com/lib/v1.js"></script>
    <script src="../bower_components/jquery/dist/jquery.min.js"></script>
    <script src="../css/bootstrap/js/bootstrap.min.js"></script>
  </head>
  <body>

  <button type="button" class="btn btn-primary">I'm a student</button>
  <button type="button" class="btn btn-primary">I'm a teacher</button>

  <!--modal popup -->
  <script type="text/javascript">
      $(window).load(function(){
          $('#myModal').modal('show');
      });
  </script>

  <div class="modal fade" id="myModal">
    <div class="modal-dialog">
      <div class="modal-content">
        <div class="modal-header">
          <button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">&times;</span><span class="sr-only">Close</span></button>
          <h4 class="modal-title">Hello, welcome to Traitify Student Matching</h4>
        </div>
        <div class="modal-body">
          <p>Are you a student or a teacher?</p>
        </div>
        <div class="modal-footer">
          <button type="button" class="btn btn-default" data-dismiss="modal">Student</button>
          <button type="button" class="btn btn-primary" data-dismiss="modal">Teacher</button>
        </div>
      </div><!-- /.modal-content -->
    </div><!-- /.modal-dialog -->
  </div><!-- /.modal -->

  <form class="go-right">
    <h2>Who are you?</h2>
    <div>
      <input id="FirstName" name="FirstName" type="text" required>
      <label for="FirstName">First Name</label>
    </div>
    <div>
      <input id="LastName" name="LastName" type="text" required>
      <label for="LastName">Last Name</label>
    </div>
    <br/>
     <button type="button" class="btn btn-primary">Start Quiz</button>
  </form>

    <div class="assessment"></div>
    <script>
      Traitify.setPublicKey("8rpjfgcnemvjc11607t9pcn9e");
      Traitify.setHost("https://api-sandbox.traitify.com");
      Traitify.setVersion("v1");
      var assessmentId = 'd8f4c075-0c16-4890-88b3-31ebe95000a9';
      slideDeck = Traitify.ui.load(assessmentId, ".assessment").slideDeck;

      slideDeck.onFinished(function(){
        var assessment = $.post("/assessments/finished");
        // assessment.then(function(){
        //   window.location = "/assessment"
        // });
         assessment.catch(function(){
          console.log("It didn't work");
         });
        console.log(slideDeck);
        console.log("Finished!");
    });
    </script>

  </body>
</html>
